<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>Python关于pyc | TY'S TECH BLOG</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python关于pyc</h1><a id="logo" href="/.">TY'S TECH BLOG</a><p class="description">The Best Or Nothing</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python关于pyc</h1><div class="post-meta">2020-01-04<span> | </span><span class="category"><a href="/categories/Code/">Code</a></span></div><div class="post-content"><p><strong>1. Python是一门解释型语言？</strong></p>
<p>我初学Python时，听到的关于Python的第一句话就是，Python是一门解释性语言，我就这样一直相信下去，直到发现了*.pyc文件的存在。如果是解释型语言，那么生成的*.pyc文件是什么呢？c应该是compiled的缩写才对啊！</p>
<p>为了防止其他学习Python的人也被这句话误解，那么我们就在文中来澄清下这个问题，并且把一些基础概念给理清。</p>
<p><strong>2. 解释型语言和编译型语言</strong> </p>
<p>计算机是不能够识别高级语言的，所以当我们运行一个高级语言程序的时候，就需要一个“翻译机”来从事把高级语言转变成计算机能读懂的机器语言的过程。这个过程分成两类，第一种是编译，第二种是解释。</p>
<p>编译型语言在程序执行之前，先会通过编译器对程序执行一个编译的过程，把程序转变成机器语言。运行时就不需要翻译，而直接执行就可以了。最典型的例子就是C语言。</p>
<p>解释型语言就没有这个编译的过程，而是在程序运行的时候，通过解释器对程序逐行作出解释，然后直接运行，最典型的例子是Ruby。</p>
<p>通过以上的例子，我们可以来总结一下解释型语言和编译型语言的优缺点，因为编译型语言在程序运行之前就已经对程序做出了“翻译”，所以在运行时就少掉了“翻译”的过程，所以效率比较高。但是我们也不能一概而论，一些解释型语言也可以通过解释器的优化来在对程序做出翻译时对整个程序做出优化，从而在效率上超过编译型语言。</p>
<p>此外，随着Java等基于虚拟机的语言的兴起，我们又不能把语言纯粹地分成解释型和编译型这两种。</p>
<p>用Java来举例，Java首先是通过编译器编译成字节码文件，然后在运行时通过解释器给解释成机器文件。所以我们说Java是一种先编译后解释的语言。</p>
<p><strong>3. Python到底是什么</strong> </p>
<p>其实Python和Java/C#一样，也是一门基于虚拟机的语言，我们先来从表面上简单地了解一下Python程序的运行过程吧。</p>
<p>当我们在命令行中输入python hello.py时，其实是激活了Python的“解释器”，告诉“解释器”：你要开始工作了。可是在“解释”之前，其实执行的第一项工作和Java一样，是编译。</p>
<p>熟悉Java的同学可以想一下我们在命令行中如何执行一个Java的程序：</p>
<p>javac hello.java</p>
<p>java hello</p>
<p>只是我们在用Eclipse之类的IDE时，将这两部给融合成了一部而已。其实Python也一样，当我们执行python hello.py时，他也一样执行了这么一个过程，所以我们应该这样来描述Python，Python是一门先编译后解释的语言。</p>
<p><strong>4. 简述Python的运行过程</strong></p>
<p>在说这个问题之前，我们先来说两个概念，PyCodeObject和pyc文件。</p>
<p>我们在硬盘上看到的pyc自然不必多说，而其实PyCodeObject则是Python编译器真正编译成的结果。我们先简单知道就可以了，继续向下看。</p>
<p>当python程序运行时，编译的结果则是保存在位于内存中的PyCodeObject中，当Python程序运行结束时，Python解释器则将PyCodeObject写回到pyc文件中。</p>
<p>当python程序第二次运行时，首先程序会在硬盘中寻找pyc文件，如果找到，则直接载入，否则就重复上面的过程。</p>
<p>所以我们应该这样来定位PyCodeObject和pyc文件，我们说pyc文件其实是PyCodeObject的一种持久化保存方式。</p>
</div><div class="tags"><a href="/tags/Python/"><i class="fa fa-tag"></i>Python</a></div><div class="post-nav"><a class="pre" href="/2021/03/27/%E9%85%8D%E7%BD%AEDocker%E5%AE%B9%E5%99%A8%E4%B8%8E%E5%AE%BF%E4%B8%BB%E6%9C%BA%E5%90%8C%E7%BD%91%E6%AE%B5/">Docker容器与宿主机同网段且可通信</a><a class="next" href="/2020/01/03/Python%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81/">Python字符编码</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Code/">Code</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">47</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">6</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/MariaDB/" style="font-size: 15px;">MariaDB</a> <a href="/tags/Mysql/" style="font-size: 15px;">Mysql</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/Redhat/" style="font-size: 15px;">Redhat</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/07/07/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A321-proxies-priv%E8%A1%A8/">Mysql中mysql库详解21--proxies_priv表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/05/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A320-time-zone%E3%80%81time-zone-leap-second%E3%80%81time-zone-name%E3%80%81time-zone-transition%E3%80%81time-zone-transition-type%E8%A1%A8/">Mysql中mysql库详解20--time_zone、time_zone_leap_second、time_zone_name、time_zone_transition、time_zone_transition_type表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/03/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A319-slow_log%E8%A1%A8/">Mysql中mysql库详解19--slow_log表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/07/01/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A318-slave_master_info%E3%80%81slave_relay_log_info%E3%80%81slave_worker_info%E8%A1%A8/">Mysql中mysql库详解18--slave_master_info、slave_relay_log_info、slave_worker_info表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/29/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A317-servers%E8%A1%A8/">Mysql中mysql库详解17--servers表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/27/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A316-proc%E8%A1%A8/">Mysql中mysql库详解16--proc表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/25/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A315-plugin%E8%A1%A8/">Mysql中mysql库详解15--plugin表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/23/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A314-ndb_binlog_index%E8%A1%A8/">Mysql中mysql库详解14--ndb_binlog_index表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/21/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A313-innodb_index_stats%E3%80%81innodb_table_stats%E8%A1%A8/">Mysql中mysql库详解13--innodb_index_stats、innodb_table_stats表</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/19/Mysql%E4%B8%ADmysql%E5%BA%93%E8%AF%A6%E8%A7%A312-help_category%E3%80%81help_keyword%E3%80%81help_relation%E3%80%81help_topic%E8%A1%A8/">Mysql中mysql库详解12--help_category、help_keyword、help_relation、help_topic表</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">TY'S TECH BLOG.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=1.0.0"><script type="text/javascript" src="/js/search.js?v=1.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>